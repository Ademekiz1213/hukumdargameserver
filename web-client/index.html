<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HÃ¼kÃ¼mdar - TikTok TÃ¼rkiye HaritasÄ±</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="domination.css">
</head>

<body>
    <!-- Connection Modal -->
    <div id="connection-modal" class="connection-modal active">
        <div class="connection-content">
            <h2>ğŸ® HÃœKÃœMDAR</h2>
            <p>TikTok TÃ¼rkiye Harita Oyunu</p>
            <div class="connection-form">
                <label for="activation-code-input">Aktivasyon Kodu:</label>
                <input type="text" id="activation-code-input" placeholder="XXXX-XXXX-XXXX-XXXX" autocomplete="off"
                    style="margin-bottom: 10px;">

                <label for="streamer-input">YayÄ±ncÄ± KullanÄ±cÄ± AdÄ±:</label>
                <input type="text" id="streamer-input" placeholder="Ã¶rn: knewzystreamer" autocomplete="off">
                <button id="connect-btn" onclick="connectToStreamer()">ğŸ”— BaÄŸlan</button>
            </div>
            <div id="connection-status" class="connection-status"></div>
        </div>
    </div>

    <div id="game-container">
        <!-- New Domination Overlay -->
        <div id="domination-overlay" class="domination-overlay">
            <!-- JS will populate this -->
        </div>

        <!-- Title Removed -->
        <!-- TOP Leaderboard (Horizontal) -->
        <div id="top-leaderboard">
            <div class="leader-label">ğŸ‘‘ LÄ°DERLER</div>
            <ul id="leaderboard-list">
                <!-- Leaders will appear here as a marquee -->
            </ul>
        </div>

        <!-- Right Side: Hall of Fame -->
        <div id="rulers-sidebar">
            <h3>ğŸ›ï¸ HÃœKÃœMDARLAR</h3>
            <ul id="top-rulers-list">
                <!-- Top 1-3 go here (Static) -->
            </ul>
            <div id="rulers-list-container">
                <ul id="rulers-list">
                    <!-- 4th and beyond go here (Scrolling) -->
                </ul>
            </div>
        </div>

        <div id="map-container">
            <!-- SVG will be injected here via game.js -->
        </div>

        <!-- Protection Panel -->
        <div id="protection-panel" class="glass-panel">
            <h2 class="protection-title">KORUMA MODU</h2>
            <img id="protection-avatar" class="protection-avatar" src="" alt="Ruler">
            <div class="protection-info">
                <p id="protection-ruler-name">Kral AdÄ±</p>
                <div class="protection-stats">
                    <div>ğŸ›¡ï¸ <span id="shield-count" class="shield-count">0</span></div>
                    <div>â³ <span id="time-left" class="time-left">60</span></div>
                </div>
                <div class="time-bar-container">
                    <div id="timer-bar" class="time-bar-fill"></div>
                </div>
                <p style="margin-top:15px; font-size:0.9em; color:#bdc3c7;">HÃ¼kÃ¼mdar hediye atarsa kalkan artar!</p>
            </div>
        </div>

        <div id="notification-area"></div>

        <!-- Settings Button -->
        <button id="settings-btn" onclick="toggleSettings()">âš™ï¸</button>

        <!-- Settings Modal -->
        <div id="settings-modal" class="glass-panel">
            <h2>Hediye AyarlarÄ±</h2>
            <div id="gift-list-container">
                <!-- Javascript will populate this -->
            </div>
            <div class="modal-actions">
                <button type="button" class="reset-btn" id="reset-settings-btn" onclick="resetGiftSettings()">ğŸ”„
                    SÄ±fÄ±rla</button>
                <button type="button" class="reset-btn" style="background:#546de5; margin-right:10px;"
                    onclick="resetRulers()">ğŸ—‘ï¸ HÃ¼kÃ¼mdarlarÄ± Sil</button>
                <button type="button" class="save-btn" onclick="saveSettings()">ğŸ’¾ Kaydet</button>
            </div>
        </div>

        <!-- Manual City Assignment Modal -->
        <div id="manual-assign-modal" class="glass-panel">
            <h3 id="assign-city-title">Åehir Ata: Kayseri</h3>
            <div id="assign-user-list">
                <!-- Javascript will populate leaders here -->
            </div>
            <button class="close-assign-btn" onclick="closeAssignModal()">Kapat</button>
        </div>

        <!-- Elimination Animation Overlay -->
        <div id="elimination-overlay">
            <div class="elimination-content" id="elim-content">
                <div class="elimination-player" id="elim-attacker">
                    <img src="" class="elim-avatar">
                    <div class="elim-name">SALDIRAN</div>
                </div>
                <div class="elimination-vs">VS</div>
                <div class="elimination-player" id="elim-victim">
                    <div class="elim-victim-status">ELENDÄ°</div>
                    <img src="" class="elim-avatar">
                    <div class="elim-name">ELENEN</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="map_data.js"></script>
    <script src="gifts.js"></script>
    <script src="game.js"></script>
</body>

</html>